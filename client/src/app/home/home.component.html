<div class="home-container">
  <div class="container pt-5">
    <div class="row">
      <div class="col-4 offset-4 text-center">
        <!-- Dropdown -->
        <div ngbDropdown class="d-inline-block">
          <!-- Usando el pipe translate -->
          <input ngbDropdownToggle type="button" class="btn btn-outline-primary" id="dropdownIdioma" value="{{ 'home.language' | translate }}" />
          <div ngbDropdownMenu aria-labelledby="dropdownIdioma">
            <!-- Usando el pipe translate -->
            <input type="button" class="dropdown-item" value="{{ 'home.spanish' | translate }}" (click)="changeLanguageToSpanish()" />
            <!-- Usando la directiva translate -->
            <button type="button" [translate]="'home.english'" class="dropdown-item" (click)="changeLanguageToEnglish()"></button>
            <button type="button" [translate]="'home.german'" class="dropdown-item" (click)="changeLanguageToGerman()"></button>
          </div>
        </div>
        <!-- /Dropdown -->
        <!-- Text Bind -->
        <input type="text" class="form-control mt-5" [(ngModel)]="text" placeholder="{{ 'home.input_placeholder' | translate }}" />
        <!-- Usando el pipe translate con parÃ¡metros -->
        <p class="mt-2">{{ 'home.introduced_text' | translate: { text: (text || '') } }}</p>
        <!-- /Text Bind -->
      </div>
    </div>
  </div>
  <div class="categories">
    <div class="categories__header">
      <h2>Categories</h2>
    </div>
    <div class="categories__list">
      <swiper
        [zoom]="false"
        [slidesPerView]="screenWidth > 1200 ? 3 : 1"
        [spaceBetween]="50"
        [pagination]="true"
        [loop]="true"
      >
        <ng-template swiperSlide *ngFor="let c of categories">
          <div class="category-card">{{ c.name }}</div>
        </ng-template>
      </swiper>
    </div>
  </div>
  <div class="products">
    <div class="products__header">
      <h2>New Products</h2>
    </div>
    <div *ngIf="loading" class="products__loading">
      <ng-template #indicatorTemplate>
        <i
          nz-icon
          nzType="loading"
          [ngStyle]="{ 'font-size': '2rem', margin: '0 auto' }"
        ></i>
      </ng-template>
      <nz-spin nzSimple [nzIndicator]="indicatorTemplate"> </nz-spin>
    </div>
    <div class="products__list" *ngIf="!loading">
      <app-product-card
        *ngFor="let n of products"
        [id]="n.id"
        [title]="n.title"
        [image]="n.image"
        [price]="n.price"
        [short_desc]="n.short_desc"
        [category]="n.category"
        [quantity]="n.quantity"
        [onAdd]="cartService.addProduct.bind(cartService)"
      >
      </app-product-card>
    </div>
  </div>
  <div class="load-products">
    <button
      nz-button
      (click)="showMoreProducts()"
      [nzLoading]="additionalLoading"
    >
      Show more
    </button>
  </div>
</div>
